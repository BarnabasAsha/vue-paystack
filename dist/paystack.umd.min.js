var __getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__objRest=(e,t)=>{var a={};for(var n in e)__hasOwnProp.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&__getOwnPropSymbols)for(var n of __getOwnPropSymbols(e))t.indexOf(n)<0&&__propIsEnum.call(e,n)&&(a[n]=e[n]);return a};!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Paystack={},e.Vue)}(this,(function(e,t){"use strict";const a=[];function n(){const e="https://js.paystack.co/v1/inline.js",n=t.ref({loaded:!1,error:!1}),r=t.ref(),o=()=>{n.value={loaded:!0,error:!1}},l=()=>{const t=a.indexOf(e);t>=0&&a.splice(t,1),r.value&&r.value.remove(),n.value={loaded:!0,error:!1}};return t.onMounted((()=>{(()=>{if(a.includes(e))n.value={loaded:!0,error:!1};else{a.push(e);const t=document.createElement("script");r.value=t,r.value.src=e,r.value.async=!0,r.value.addEventListener("load",o),r.value.addEventListener("complete",o),r.value.addEventListener("error",l),document.body.appendChild(r.value)}})()})),t.onUnmounted((()=>{r.value&&(r.value.removeEventListener("load",o),r.value.removeEventListener("error",l))})),[n.value.loaded,n.value.error]}var r=(e,t)=>{for(const[a,n]of t)e[a]=n;return e};const o=t.defineComponent({name:"PayStack",props:{embed:{type:Boolean,default:!1},paystackkey:{type:String,required:!0},email:{type:String,required:!0},firstname:{type:String,default:""},lastname:{type:String,default:""},amount:{type:Number,required:!0,validator:e=>e>0},reference:{type:String,required:!0},channels:{type:Array,default:()=>["card","bank"]},accessCode:{type:String,default:""},callback:{type:Function,required:!0,default:e=>e},close:{type:Function,required:!0,default:()=>{}},metadata:{type:Object,default:()=>({})},currency:{type:String,default:"NGN"},plan:{type:String,default:""},quantity:{type:Number,default:1},subaccount:{type:String,default:""},split:{type:Object,default:()=>({})},splitCode:{type:String,default:""},transactionCharge:{type:Number,default:0},bearer:{type:String,default:""}},setup(e){const a=e,{close:r,callback:o}=a,l=__objRest(a,["close","callback"]),u=function(e){const[a,r]=t.toRefs(n()),{paystackkey:o,email:l,firstname:u,lastname:c,channels:s,amount:d,access_code:i,reference:p,metadata:y={},currency:f="NGN",plan:m="",quantity:v,split_code:b,split:k,subaccount:_="",transaction_charge:g=0,bearer:S="account",embed:O}=e;return function(t,n){if(r.value)throw new Error("Unable to load paystack inline script");if(a.value){e["data-custom-button"];const t=window.PaystackPop.setup(paystackOptions);O||t.openIframe()}}}(l);return t.onMounted((()=>{l.embed&&u(o,r)})),{payWithPaystack:u}}}),l=t.createTextVNode("Make Payment"),u={key:1,id:"paystackEmbedContainer"};var c=r(o,[["render",function(e,a,n,r,o,c){return e.embed?(t.openBlock(),t.createElementBlock("div",u)):(t.openBlock(),t.createElementBlock("button",{key:0,class:"payButton",onClick:a[0]||(a[0]=t=>e.payWithPaystack(e.callback,e.close))},[t.renderSlot(e.$slots,"default",{},(()=>[l]))]))}]]);e.default=c,Object.defineProperty(e,"__esModule",{value:!0}),e[Symbol.toStringTag]="Module"}));
